{"version":3,"file":"js/489.4bc69770.js","mappings":"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","sources":["webpack://fe-useful-code/./src/views/editorByFlow/index.vue","webpack://fe-useful-code/./src/views/editorByFlow/editorByFlow.vue","webpack://fe-useful-code/src/views/editorByFlow/editorByFlow.vue","webpack://fe-useful-code/./src/views/editorByFlow/editorByFlow.vue?468a","webpack://fe-useful-code/./src/views/editorByFlow/editorByFlow.vue?26a3","webpack://fe-useful-code/src/views/editorByFlow/index.vue","webpack://fe-useful-code/./src/views/editorByFlow/index.vue?f071","webpack://fe-useful-code/./src/views/editorByFlow/index.vue?39fc"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"left-part\"},[_c('editorByFlow',{attrs:{\"nodeData\":_vm.allNodes},on:{\"renderAgain\":_vm.renderAgain,\"generateLinks\":_vm.generateLinks,\"moveTop\":_vm.moveTop,\"moveBottom\":_vm.moveBottom}})],1),_c('div',{ref:\"parentContainerRef\",staticClass:\"right-part\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{ref:\"lineChart\",staticClass:\"chart\"}),_c('el-dialog',{attrs:{\"title\":_vm.currentName,\"visible\":_vm.dialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.currentNode,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"业务流程说明：\"}},[_c('span',[_vm._v(_vm._s(_vm.currentNode?.desc || null))])]),_c('el-form-item',{attrs:{\"label\":\"工作时效：\"}},[_c('span',[_vm._v(_vm._s(_vm.currentNode?.workTime || null))])]),_c('el-form-item',{attrs:{\"label\":\"所需上传附件：\"}},[_c('span',[_vm._v(_vm._s(_vm.currentNode?.file || null))])]),_c('el-form-item',{attrs:{\"label\":\"跳转链接：\"}},[(_vm.currentNode?.routePath)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goToPage(_vm.currentNode)}}},[_vm._v(\" 跳转该页面 \")]):_vm._e()],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"关闭\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"form-part\"},[_c('div',{staticClass:\"editor-part\"},[_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-bottom\":\"10px\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":2}},[_c('el-statistic',{attrs:{\"value\":_vm.countByMainNode,\"title\":\"主节点\"}})],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-statistic',{attrs:{\"value\":_vm.countByChildNode,\"title\":\"子节点\"}})],1),_c('el-col',{attrs:{\"span\":2}},[_c('el-statistic',{attrs:{\"value\":this.form.listData.length || 0,\"title\":\"合计\"}})],1),_c('el-col',{attrs:{\"span\":18}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleRender}},[_vm._v(\"渲染\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.handleGenerateLinksByAll}},[_vm._v(\"生成连接线(debug)\")]),_c('el-button',{on:{\"click\":_vm.onAddNode}},[_vm._v(\"新增节点\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onCheckJson}},[_vm._v(\"查看JSON\")])],1)],1),_c('span')],1),_c('div',{staticClass:\"table-part\"},[_c('el-form',{ref:\"form\",staticStyle:{\"height\":\"100%\"},attrs:{\"model\":_vm.form,\"size\":\"mini\",\"label-width\":\"60px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.form.listData,\"border\":\"\",\"height\":\"100%\",\"size\":\"mini\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"align\":\"center\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"基础信息\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{attrs:{\"prop\":`listData.${scope.$index}.name`,\"label\":\"名字\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(scope.row.name),callback:function ($$v) {_vm.$set(scope.row, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.name\"}})],1),_c('el-form-item',{attrs:{\"prop\":`listData.${scope.$index}.id`,\"label\":\"id\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(scope.row.id),callback:function ($$v) {_vm.$set(scope.row, \"id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.id\"}})],1),_c('el-form-item',{attrs:{\"prop\":`listData.${scope.$index}.x`,\"label\":\"x\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入\"},model:{value:(scope.row.x),callback:function ($$v) {_vm.$set(scope.row, \"x\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.x\"}})],1),_c('el-form-item',{attrs:{\"prop\":`listData.${scope.$index}.y`,\"label\":\"y\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入\"},model:{value:(scope.row.y),callback:function ($$v) {_vm.$set(scope.row, \"y\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.y\"}})],1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"扩展信息\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{attrs:{\"prop\":`listData.${scope.$index}.extraData.main`,\"label\":\"主节点\",\"align\":\"left\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(scope.row.extraData.main),callback:function ($$v) {_vm.$set(scope.row.extraData, \"main\", $$v)},expression:\"scope.row.extraData.main\"}})],1),_c('el-form-item',{attrs:{\"prop\":`listData.${scope.$index}.extraData.desc`,\"label\":\"描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入\",\"rows\":\"4\",\"resize\":\"none\"},model:{value:(scope.row.extraData.desc),callback:function ($$v) {_vm.$set(scope.row.extraData, \"desc\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.extraData.desc\"}})],1),_c('el-form-item',{attrs:{\"prop\":`listData.${scope.$index}.extraData.workTime`,\"label\":\"时间\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(scope.row.extraData.workTime),callback:function ($$v) {_vm.$set(scope.row.extraData, \"workTime\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.extraData.workTime\"}})],1),_c('el-form-item',{attrs:{\"prop\":`listData.${scope.$index}.extraData.file`,\"label\":\"文件\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入\",\"rows\":\"2\",\"resize\":\"none\"},model:{value:(scope.row.extraData.file),callback:function ($$v) {_vm.$set(scope.row.extraData, \"file\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.extraData.file\"}})],1),_c('el-form-item',{attrs:{\"prop\":`listData.${scope.$index}.extraData.routePath`,\"label\":\"路由\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(scope.row.extraData.routePath),callback:function ($$v) {_vm.$set(scope.row.extraData, \"routePath\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.extraData.routePath\"}})],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"color\":\"red\"},attrs:{\"type\":\"text\"}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.onMoveTop(scope.row.$index)}}},[_vm._v(\"上移\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.onMoveBottom(scope.row.$index)}}},[_vm._v(\"下移\")])]}}])})],1)],1)],1)]),_c('el-drawer',{attrs:{\"title\":\"提示\",\"visible\":_vm.visibleDialog,\"size\":\"800px\"},on:{\"update:visible\":function($event){_vm.visibleDialog=$event}}},[_c('json-viewer',{attrs:{\"value\":_vm.form.listData,\"expand-depth\":1,\"copyable\":\"\",\"boxed\":\"\",\"sort\":\"\"}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.visibleDialog = false}}},[_vm._v(\"关闭\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-part\">\n    <div class=\"editor-part\">\n      <div style=\"text-align: right; margin-bottom: 10px\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"2\">\n            <el-statistic :value=\"countByMainNode\" title=\"主节点\"></el-statistic>\n          </el-col>\n          <el-col :span=\"2\">\n            <el-statistic :value=\"countByChildNode\" title=\"子节点\"></el-statistic>\n          </el-col>\n          <el-col :span=\"2\">\n            <el-statistic :value=\"this.form.listData.length || 0\" title=\"合计\"></el-statistic>\n          </el-col>\n          <el-col :span=\"18\">\n            <el-button type=\"primary\" @click=\"handleRender\">渲染</el-button>\n            <el-button type=\"success\" @click=\"handleGenerateLinksByAll\">生成连接线(debug)</el-button>\n            <el-button @click=\"onAddNode\">新增节点</el-button>\n            <!-- <el-button type=\"warning\" @click=\"exportToJson\">导出JSON</el-button> -->\n            <el-button type=\"primary\" @click=\"onCheckJson\">查看JSON</el-button>\n          </el-col>\n        </el-row>\n        <span></span>\n      </div>\n      <div class=\"table-part\">\n        <el-form ref=\"form\" :model=\"form\" size=\"mini\" label-width=\"60px\" style=\"height: 100%\">\n          <el-table :data=\"form.listData\" border style=\"width: 100%\" height=\"100%\" size=\"mini\">\n            <el-table-column type=\"index\" label=\"序号\" align=\"center\" width=\"50\" />\n\n            <el-table-column prop=\"name\" label=\"基础信息\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-form-item :prop=\"`listData.${scope.$index}.name`\" label=\"名字\">\n                  <el-input v-model.trim=\"scope.row.name\" placeholder=\"请输入\" />\n                </el-form-item>\n                <el-form-item :prop=\"`listData.${scope.$index}.id`\" label=\"id\">\n                  <el-input v-model.trim=\"scope.row.id\" placeholder=\"请输入\" />\n                </el-form-item>\n                <el-form-item :prop=\"`listData.${scope.$index}.x`\" label=\"x\">\n                  <el-input type=\"number\" v-model.trim=\"scope.row.x\" placeholder=\"请输入\" />\n                </el-form-item>\n                <el-form-item :prop=\"`listData.${scope.$index}.y`\" label=\"y\">\n                  <el-input type=\"number\" v-model.trim=\"scope.row.y\" placeholder=\"请输入\" />\n                </el-form-item>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"name\" label=\"扩展信息\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-form-item :prop=\"`listData.${scope.$index}.extraData.main`\" label=\"主节点\" align=\"left\">\n                  <el-switch\n                    v-model=\"scope.row.extraData.main\"\n                    active-color=\"#13ce66\"\n                    inactive-color=\"#ff4949\"\n                  ></el-switch>\n                </el-form-item>\n                <el-form-item :prop=\"`listData.${scope.$index}.extraData.desc`\" label=\"描述\">\n                  <el-input\n                    type=\"textarea\"\n                    v-model.trim=\"scope.row.extraData.desc\"\n                    placeholder=\"请输入\"\n                    rows=\"4\"\n                    resize=\"none\"\n                  />\n                </el-form-item>\n                <el-form-item :prop=\"`listData.${scope.$index}.extraData.workTime`\" label=\"时间\">\n                  <el-input v-model.trim=\"scope.row.extraData.workTime\" placeholder=\"请输入\" />\n                </el-form-item>\n                <el-form-item :prop=\"`listData.${scope.$index}.extraData.file`\" label=\"文件\">\n                  <el-input\n                    type=\"textarea\"\n                    v-model.trim=\"scope.row.extraData.file\"\n                    placeholder=\"请输入\"\n                    rows=\"2\"\n                    resize=\"none\"\n                  />\n                </el-form-item>\n                <el-form-item :prop=\"`listData.${scope.$index}.extraData.routePath`\" label=\"路由\">\n                  <el-input v-model.trim=\"scope.row.extraData.routePath\" placeholder=\"请输入\" />\n                </el-form-item>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" align=\"center\" width=\"80\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"text\" style=\"color: red\">删除</el-button>\n                <!-- <template v-if=\"scope.row.extraData.main\">\n                  <el-button type=\"text\">增加子节点</el-button>\n                </template> -->\n                <el-button type=\"text\" @click=\"onMoveTop(scope.row.$index)\">上移</el-button>\n                <el-button type=\"text\" @click=\"onMoveBottom(scope.row.$index)\">下移</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-form>\n      </div>\n    </div>\n    <el-drawer title=\"提示\" :visible.sync=\"visibleDialog\" size=\"800px\">\n      <json-viewer :value=\"form.listData\" :expand-depth=\"1\" copyable boxed sort></json-viewer>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"visibleDialog = false\">关闭</el-button>\n      </span>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\n// import { allNodes, allLinks } from '../testPage/testData.js'\n\nexport default {\n  name: 'editorByFlow',\n  data() {\n    return {\n      form: {\n        listData: [\n          {\n            name: '第一个',\n            id: 'one',\n            x: 500,\n            y: 0,\n            extraData: {\n              main: true,\n              desc: ``,\n              workTime: ``,\n              file: ``,\n              routePath: ``,\n              hidden: false,\n            },\n          },\n          {\n            name: '第二个',\n            id: 'two',\n            x: 500,\n            y: 500,\n            extraData: {\n              main: true,\n              desc: ``,\n              workTime: ``,\n              file: ``,\n              routePath: ``,\n              hidden: false,\n            },\n          },\n          {\n            name: '第二个-1',\n            id: 'two-1',\n            x: 100,\n            y: 500,\n            extraData: {\n              main: false,\n              desc: ``,\n              workTime: ``,\n              file: ``,\n              routePath: ``,\n              hidden: false,\n            },\n          },\n          {\n            name: '第二个-2',\n            id: 'two-2',\n            x: 900,\n            y: 500,\n            extraData: {\n              main: false,\n              desc: ``,\n              workTime: ``,\n              file: ``,\n              routePath: ``,\n              hidden: false,\n            },\n          },\n          {\n            name: '第二个-3',\n            id: 'two-3',\n            x: 100,\n            y: 600,\n            extraData: {\n              main: false,\n              desc: ``,\n              workTime: ``,\n              file: ``,\n              routePath: ``,\n              hidden: false,\n            },\n          },\n        ],\n      },\n      allLinks: [],\n      visibleDialog: false,\n    }\n  },\n  computed: {\n    countByMainNode() {\n      return this.form.listData.filter(item => item.extraData.main).length\n    },\n    countByChildNode() {\n      return this.form.listData.filter(item => !item.extraData.main).length\n    },\n  },\n  methods: {\n    handleRender() {\n      // this.form.listData = JSON.parse(JSON.stringify(this.listData))\n      this.handleGenerateLinksByAll()\n      this.$emit('renderAgain', {\n        allNodes: this.form.listData,\n        allLinks: this.allLinks,\n      })\n    },\n\n    handleGenerateLinksByAll() {\n      const mainLinks = this.handleLineByMain(this.form.listData)\n      const childrenLinks = this.handleLineByChildren(this.form.listData)\n\n      console.log('展示所有连线')\n\n      mainLinks.forEach(link => {\n        console.log(`%c ${link.source} %c -> %c ${link.target}`, 'color: red;', 'color: #333;', 'color: red;')\n        // this.allLinks.push(link)\n      })\n      childrenLinks.forEach(link => {\n        console.log(`%c ${link.source} %c-> %c ${link.target}`, 'color: green;', 'color: #333;', 'color: red;')\n        // this.allLinks.push(link)\n      })\n      this.allLinks = [...mainLinks, ...childrenLinks]\n\n      this.$emit('generateLinks', this.allLinks)\n    },\n\n    handleLineByMain(nodes) {\n      console.log(`%c 主连接线`, 'font-size: 20px; color: red;')\n      const mains = nodes\n        .filter(n => n.extraData && n.extraData.main)\n        .sort((a, b) => {\n          // 先按 y 排序（垂直流程），y 相同则按 x 排序\n          const dy = (a.y || 0) - (b.y || 0)\n          if (dy !== 0) return dy\n          return (a.x || 0) - (b.x || 0)\n        })\n      const links = []\n      for (let i = 1; i < mains.length; i++) {\n        links.push({\n          source: mains[i - 1].id,\n          target: mains[i].id,\n        })\n      }\n\n      console.log(links)\n      return links\n    },\n    handleLineByChildren(nodes) {\n      console.log(`%c 子连接线`, 'font-size: 20px; color: orange;')\n      console.log(`%c 主节点包括`, 'color: blue;')\n\n      const mainNodes = nodes.filter(item => item.extraData.main === true)\n      console.log(mainNodes)\n      console.log(`%c --- 根据主节点过滤的数据 start ---`, 'color: blue;')\n      let linksByChildren = []\n      mainNodes.forEach(mainNodeItem => {\n        console.log(`%c 主节点 ${mainNodeItem.name} ${mainNodeItem.id}`, 'color: green;')\n        nodes.filter(item => {\n          if (item.id.match(`${mainNodeItem.id}-`)) {\n            console.log(`%c ${item.name} ${item.id}`, `color: red;`)\n            linksByChildren.push({\n              source: mainNodeItem.id,\n              target: item.id,\n            })\n          }\n        })\n        // console.log('------')\n      })\n      console.log(`%c --- 根据主节点过滤的数据 end ---`, 'color: blue;')\n      console.log(linksByChildren)\n      return linksByChildren\n    },\n    onAddNode() {\n      const count = this.form.listData.filter(item => item.extraData.main).length\n      this.form.listData.push({\n        name: `新的节点${count}`,\n        id: `newMainNode${count}`,\n        x: 500,\n        y: count * 500,\n        extraData: {\n          main: true,\n          desc: ``,\n          workTime: ``,\n          file: ``,\n          routePath: ``,\n          hidden: false,\n        },\n      })\n    },\n\n    onMoveTop() {\n      this.$emit('moveTop', true)\n    },\n    onMoveBottom() {\n      this.$emit('moveBottom', true)\n    },\n    exportToJson() {\n      const dataStr = JSON.stringify(this.form.listData, null, 2)\n      const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr)\n\n      const exportFileDefaultName = 'nodeData.json'\n\n      const linkElement = document.createElement('a')\n      linkElement.setAttribute('href', dataUri)\n      linkElement.setAttribute('download', exportFileDefaultName)\n      linkElement.click()\n    },\n    onCheckJson() {\n      this.visibleDialog = true\n    },\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.editor-part {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.table-part {\n  flex: 1;\n  height: 100%;\n  overflow: hidden;\n}\n.form-part {\n  padding: 10px;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./editorByFlow.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./editorByFlow.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./editorByFlow.vue?vue&type=template&id=245180ea&scoped=true\"\nimport script from \"./editorByFlow.vue?vue&type=script&lang=js\"\nexport * from \"./editorByFlow.vue?vue&type=script&lang=js\"\nimport style0 from \"./editorByFlow.vue?vue&type=style&index=0&id=245180ea&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"245180ea\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"page\">\n    <div class=\"left-part\">\n      <editorByFlow\n        :nodeData=\"allNodes\"\n        @renderAgain=\"renderAgain\"\n        @generateLinks=\"generateLinks\"\n        @moveTop=\"moveTop\"\n        @moveBottom=\"moveBottom\"\n      />\n    </div>\n    <div class=\"right-part\" style=\"width: 100%; height: 100%\" ref=\"parentContainerRef\">\n      <div ref=\"lineChart\" class=\"chart\"></div>\n      <el-dialog :title=\"currentName\" :visible.sync=\"dialogVisible\" width=\"600px\">\n        <el-form ref=\"form\" :model=\"currentNode\" label-width=\"120px\">\n          <el-form-item label=\"业务流程说明：\">\n            <span>{{ currentNode?.desc || null }}</span>\n          </el-form-item>\n          <el-form-item label=\"工作时效：\">\n            <span>{{ currentNode?.workTime || null }}</span>\n          </el-form-item>\n          <el-form-item label=\"所需上传附件：\">\n            <span>{{ currentNode?.file || null }}</span>\n          </el-form-item>\n          <el-form-item label=\"跳转链接：\">\n            <el-button v-if=\"currentNode?.routePath\" type=\"primary\" @click=\"goToPage(currentNode)\">\n              跳转该页面\n            </el-button>\n          </el-form-item>\n        </el-form>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button type=\"primary\" @click=\"dialogVisible = false\">关闭</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\n\n// import { allNodes, allLinks } from '../testPage/testData.js'\n\nimport editorByFlow from './editorByFlow.vue'\n\nexport default {\n  name: 'flowByGraph',\n  components: { editorByFlow },\n  data() {\n    return {\n      charts: {}, // 存储图表实例\n      dialogVisible: false,\n      currentNode: {\n        main: false,\n        desc: ``,\n        workTime: ``,\n        file: ``,\n        routePath: ``,\n      }, // 当前点击的节点\n      currentName: '',\n      allNodes: [], // 节点\n      allLinks: [], // 连接线\n    }\n  },\n  mounted() {\n    // this.initLineChart()\n  },\n  methods: {\n    initLineChart() {\n      const lineChart = echarts.init(this.$refs.lineChart)\n\n      // 计算可见节点的边界（基于 allNodes 的 x/y）\n      const nodes = this.allNodes.filter(n => !n.hidden)\n      const padding = 80 // 边距，按需调整\n      const xs = nodes.map(n => n.x || 0)\n      const ys = nodes.map(n => n.y || 0)\n      const minX = Math.min(...xs)\n      const maxX = Math.max(...xs)\n      const minY = Math.min(...ys)\n      const maxY = Math.max(...ys)\n\n      const neededWidth = Math.max(800, Math.ceil(maxX - minX + padding * 2))\n      const neededHeight = Math.max(600, Math.ceil(maxY - minY + padding * 2))\n\n      // 把容器大小设置为所需画布尺寸，父容器显示滚动\n      const container = this.$refs.lineChart\n      // 直接使用父级DOM的宽度\n      const parentContainerRef = this.$refs.parentContainerRef\n      container.style.width = parentContainerRef.getBoundingClientRect().width - 20 + 'px'\n      // container.style.width = neededWidth + 'px'\n      container.style.height = neededHeight + 'px'\n      // 父容器（外层）允许滚动，确保父容器存在且为视口大小\n      if (container.parentElement) {\n        container.parentElement.style.overflow = 'auto'\n      }\n      // 让 echarts 重新计算尺寸\n      lineChart.resize()\n\n      // 为了把原来基于坐标的布局放到带 padding 的画布中，做平移偏移\n      const offsetX = padding - minX\n      const offsetY = padding - minY\n      const nodesForRender = nodes.map(n => ({\n        ...n,\n        x: (n.x || 0) + offsetX,\n        y: (n.y || 0) + offsetY,\n      }))\n\n      // links 仍然保留原有连接关系（如果有 hidden 标记不需过滤）\n      // 不再因为 node.hidden 而过滤连接：\n      // - 连接仍然保留（前提：source/target 在 allNodes 中存在）\n      // - 通过 coords 将连接点平移到与 nodesForRender 相同的画布坐标（即应用 offsetX/offsetY）\n      const linksForRender = this.allLinks\n        .map(l => {\n          const sAll = this.allNodes.find(n => n.id === l.source)\n          const tAll = this.allNodes.find(n => n.id === l.target)\n          if (!sAll || !tAll) return null\n          // 计算两端在渲染画布中的坐标（即原始坐标 + offset）\n          const sCoord = [(sAll.x || 0) + offsetX, (sAll.y || 0) + offsetY]\n          const tCoord = [(tAll.x || 0) + offsetX, (tAll.y || 0) + offsetY]\n          return {\n            ...l,\n            // 指定 coords 确保连线连到计算后的点（即便节点被 hidden，不会因找不到节点而丢弃连线）\n            coords: [sCoord, tCoord],\n          }\n        })\n        .filter(Boolean)\n\n      // 渲染 option（保持你原有样式）\n      const option = {\n        // title: {\n        //   text: '简单的流程图，使用 Graph 图表',\n        //   left: 'center',\n        // },\n        graphic: this.renderGridGraphic ? this.renderGridGraphic() : undefined,\n        series: [\n          {\n            type: 'graph',\n            layout: 'none',\n            // 注意：symbolSize 可保持 per-node 设置，或使用全局默认\n            roam: true,\n            // 设置最大、最小缩放范围\n            scaleLimit: {\n              min: 1,\n              max: 1.8,\n            },\n            label: {\n              show: true,\n              fontSize: 14,\n              color: '#FFF',\n              formatter: '{b}',\n            },\n            symbol: 'rect',\n            edgeSymbol: ['none', 'none'],\n            edgeLabel: { fontSize: 12 },\n            data: nodesForRender,\n            links: linksForRender,\n          },\n        ],\n      }\n\n      lineChart.setOption(option)\n      this.charts = lineChart\n\n      const vm = this\n      lineChart.on('click', function (params) {\n        if (params.dataType === 'node') {\n          vm.handleNodeClick(params)\n        }\n      })\n    },\n    // 点击节点的处理函数\n    handleNodeClick(params) {\n      this.currentName = params.name || `流程说明`\n      if (params.data && params.data.extraData && params.data.extraData.main === false) {\n        this.currentNode = params.data.extraData\n        this.dialogVisible = true\n      } else {\n        this.currentNode = null\n      }\n      if (params.data && params.data.extraData && params.data.extraData.main === true) {\n        this.allNodes.forEach(item => {\n          if (item.id.match(`${params.data.id}-`)) {\n            item.hidden = !item.hidden\n          }\n        })\n        const childrenCount = this.allNodes.filter(item => item.id.match(`${params.data.id}-`)).length\n        const currentNodeIndex = this.allNodes.findIndex(item => item.id === params.data.id)\n        if (this.allNodes[currentNodeIndex].name.includes('(')) {\n          this.allNodes[currentNodeIndex].name = this.allNodes[currentNodeIndex].name.split('(')[0]\n        } else {\n          this.allNodes[currentNodeIndex].name = `${this.allNodes[currentNodeIndex].name}(${childrenCount})`\n        }\n        this.charts.setOption({\n          series: [\n            {\n              data: this.allNodes.filter(item => !item.hidden),\n              // links: visibleLinks,\n            },\n          ],\n        })\n      }\n      // NOTE: 暂时不用这个高亮\n      // if (this.charts) {\n      //   this.dialogVisible = true\n      //   this.charts.dispatchAction({\n      //     type: 'highlight',\n      //     seriesIndex: params.seriesIndex,\n      //     dataIndex: params.dataIndex,\n      //   })\n      //   // 取消高亮（2秒后）\n      //   setTimeout(() => {\n      //     this.charts.dispatchAction({\n      //       type: 'downplay',\n      //       seriesIndex: params.seriesIndex,\n      //       dataIndex: params.dataIndex,\n      //     })\n      //   }, 2000)\n      // }\n    },\n    goToPage(node) {\n      if (node && node.routePath) {\n        const routeUrl = this.$router.resolve({ path: node.routePath }).href\n        window.open(routeUrl, '_blank')\n      }\n    },\n    renderAgain(rawData) {\n      console.log(rawData)\n      console.log(this.charts)\n      if (this.charts.dispose) {\n        console.log('销毁图表实例')\n        this.charts.dispose()\n      }\n      this.allNodes = this.rebuildAllNodesData(rawData.allNodes)\n      this.allLinks = rawData.allLinks\n      console.log(`接收到的数据`)\n      console.log(rawData)\n\n      setTimeout(() => {\n        this.initLineChart()\n      }, 800)\n    },\n    rebuildAllNodesData(nodes) {\n      return nodes.map(node => {\n        // 根据节点类型选择渐变色\n        const mainGradient = new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n          { offset: 0, color: '#ffffff' },\n          { offset: 0.25, color: '#409EFF' },\n          { offset: 0.5, color: '#409EFF' },\n          { offset: 0.75, color: '#409EFF' },\n          { offset: 1, color: '#ffffff' },\n        ])\n        const childGradient = new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n          { offset: 0, color: '#ffffff' },\n          { offset: 0.5, color: '#79BBFF' },\n          { offset: 1, color: '#ffffff' },\n        ])\n\n        // 根据节点属性选配色（可自定义逻辑）\n        const gradient = node.extraData && node.extraData.main ? mainGradient : childGradient\n\n        function getSymbolWidth(name, fontSize = 14, padding = 20) {\n          return name.length * fontSize + padding\n        }\n\n        // TODO: 保留 start\n        // 计算符号宽度\n        const width = getSymbolWidth(node.name || '')\n        // 依据 id 末尾数字判断奇偶：仅当 id 存在尾数时生效\n        // - 有尾数：奇数 -> 把矩形向左偏移（连接点落在右边）；偶数 -> 向右偏移（连接点落在左边）\n        // - 无尾数：保持不变（连接点在中心）\n        const idStr = (node.id || '').toString()\n        const m = idStr.match(/(\\d+)$/)\n        let offsetX = 0\n        if (m) {\n          const num = parseInt(m[1], 10)\n          const isOdd = num % 2 === 1\n          offsetX = isOdd ? -Math.floor(width / 2) : Math.floor(width / 2)\n        } else {\n          offsetX = 0\n        }\n        // TODO: 保留 end\n\n        return {\n          ...node,\n          symbolSize: [width, 30], // 宽随文字\n          // 通过 symbolOffset 调整矩形的可视中心，从而改变连线落点（连线仍连到 node.x/node.y）\n          symbolOffset: [offsetX, 0],\n          itemStyle: {\n            color: gradient,\n            // 可加圆角（仅在 symbol 为 rect 时生效）\n            borderColor: '#b3d8ff',\n            borderWidth: 1,\n            shadowColor: 'rgba(0,0,0,0.15)',\n            shadowBlur: 6,\n          },\n          label: {\n            show: true,\n            color: '#000', // 白色文字，确保在渐变上可读\n            fontSize: 14,\n            formatter: '{b}',\n            fontWeight: 'bolder',\n          },\n        }\n      })\n    },\n    generateLinks(links) {\n      this.allLinks = links.map(link => ({\n        ...link,\n        lineStyle: {\n          width: 1,\n          // curveness: 0.2, // 曲线弯曲度\n          color: '#2590ff',\n        },\n      }))\n    },\n    moveTop() {\n      this.moveNode(this.selectedNode, -1)\n    },\n    moveBottom() {\n      this.moveNode(this.selectedNode, 1)\n    },\n    moveNode(node, direction) {},\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.page {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n}\n.left-part {\n  // width: 400px;\n  width: 50%;\n  border-right: 1px solid #e0e0e0;\n  height: 100%;\n}\n.right-part {\n  flex: 1;\n  height: 100%;\n}\n.chart {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f084e3e2&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f084e3e2&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f084e3e2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","allNodes","on","renderAgain","generateLinks","moveTop","moveBottom","ref","staticStyle","currentName","dialogVisible","$event","currentNode","_v","_s","desc","workTime","file","routePath","goToPage","_e","slot","staticRenderFns","countByMainNode","countByChildNode","form","listData","length","handleRender","handleGenerateLinksByAll","onAddNode","onCheckJson","scopedSlots","_u","key","fn","scope","$index","model","value","row","name","callback","$$v","$set","trim","expression","id","x","y","extraData","main","onMoveTop","onMoveBottom","visibleDialog","data","hidden","allLinks","computed","filter","item","methods","$emit","mainLinks","handleLineByMain","childrenLinks","handleLineByChildren","console","log","forEach","link","source","target","nodes","mains","n","sort","a","b","dy","links","i","push","mainNodes","linksByChildren","mainNodeItem","match","count","exportToJson","dataStr","JSON","stringify","dataUri","encodeURIComponent","exportFileDefaultName","linkElement","document","createElement","setAttribute","click","component","components","editorByFlow","charts","mounted","initLineChart","lineChart","echarts","$refs","padding","xs","map","ys","minX","Math","min","maxX","max","minY","maxY","neededHeight","ceil","container","parentContainerRef","style","width","getBoundingClientRect","height","parentElement","overflow","resize","offsetX","offsetY","nodesForRender","linksForRender","l","sAll","find","tAll","sCoord","tCoord","coords","Boolean","option","graphic","renderGridGraphic","undefined","series","type","layout","roam","scaleLimit","label","show","fontSize","color","formatter","symbol","edgeSymbol","edgeLabel","setOption","vm","params","dataType","handleNodeClick","childrenCount","currentNodeIndex","findIndex","includes","split","node","routeUrl","$router","resolve","path","href","window","open","rawData","dispose","rebuildAllNodesData","setTimeout","mainGradient","offset","childGradient","gradient","getSymbolWidth","idStr","toString","m","num","parseInt","isOdd","floor","symbolSize","symbolOffset","itemStyle","borderColor","borderWidth","shadowColor","shadowBlur","fontWeight","lineStyle","moveNode","selectedNode","direction"],"sourceRoot":""}