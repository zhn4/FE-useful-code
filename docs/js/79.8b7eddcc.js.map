{"version":3,"file":"js/79.8b7eddcc.js","mappings":"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","sources":["webpack://FE-useful-code/./src/views/noteBook/index.vue","webpack://FE-useful-code/src/views/noteBook/index.vue","webpack://FE-useful-code/./src/views/noteBook/index.vue?7199","webpack://FE-useful-code/./src/views/noteBook/index.vue?cf9c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"notebook-page\"},[_c('div',{staticClass:\"editor-panel\"},[_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-bottom\":\"8px\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":_vm.importTxt}},[_vm._v(\"导入 .txt\")]),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":_vm.importMd}},[_vm._v(\"导入 .md\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.exportTxt}},[_vm._v(\"导出 .txt\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.exportMd}},[_vm._v(\"导出 .md\")]),_c('input',{ref:\"fileInputTxt\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\".txt\"},on:{\"change\":_vm.handleFileChangeTxt}}),_c('input',{ref:\"fileInputMd\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\".md\"},on:{\"change\":_vm.handleFileChangeMd}})],1),_c('el-input',{staticClass:\"markdown-input\",attrs:{\"type\":\"textarea\",\"rows\":24,\"placeholder\":\"请输入Markdown内容\",\"resize\":\"none\"},model:{value:(_vm.markdownText),callback:function ($$v) {_vm.markdownText=$$v},expression:\"markdownText\"}})],1),_c('div',{staticClass:\"preview-panel\"},[_c('div',{staticStyle:{\"text-align\":\"left\",\"margin-bottom\":\"8px\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.exportPdf}},[_vm._v(\"导出 PDF \")])],1),_c('div',{ref:\"markdownPreview\",staticClass:\"markdown-preview markdown-body theme-atom-one-dark\",domProps:{\"innerHTML\":_vm._s(_vm.renderedMarkdown)}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"notebook-page\">\r\n    <div class=\"editor-panel\">\r\n      <div style=\"text-align: right; margin-bottom: 8px\">\r\n        <el-button type=\"success\" size=\"mini\" @click=\"importTxt\">导入 .txt</el-button>\r\n        <el-button type=\"success\" size=\"mini\" @click=\"importMd\">导入 .md</el-button>\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"exportTxt\">导出 .txt</el-button>\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"exportMd\">导出 .md</el-button>\r\n        <input ref=\"fileInputTxt\" type=\"file\" accept=\".txt\" style=\"display: none\" @change=\"handleFileChangeTxt\" />\r\n        <input ref=\"fileInputMd\" type=\"file\" accept=\".md\" style=\"display: none\" @change=\"handleFileChangeMd\" />\r\n      </div>\r\n      <el-input type=\"textarea\" v-model=\"markdownText\" :rows=\"24\" placeholder=\"请输入Markdown内容\" resize=\"none\"\r\n        class=\"markdown-input\" />\r\n    </div>\r\n    <div class=\"preview-panel\">\r\n      <div style=\"text-align: left; margin-bottom: 8px\">\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"exportPdf\">导出 PDF </el-button>\r\n      </div>\r\n      <!-- <div ref=\"markdownPreview\" class=\"markdown-preview markdown-body theme-atom-one-dark\" v-html=\"renderedMarkdown\">\r\n      </div> -->\r\n      <div ref=\"markdownPreview\" class=\"markdown-preview markdown-body theme-atom-one-dark\" v-html=\"renderedMarkdown\">\r\n      </div>\r\n      <!-- <div class=\"markdown-preview markdown-body \" ref=\"markdownPreview\">\r\n        <pre class=\"theme-atom-one-dark\">\r\n          <code>{{ renderedMarkdown }}</code>\r\n        </pre>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { marked } from 'marked'\r\nimport hljs from 'highlight.js'\r\nimport html2pdf from 'html2pdf.js/dist/html2pdf.min.js'\r\n\r\nimport 'highlight.js/styles/atom-one-dark.css'\r\nimport 'github-markdown-css'\r\n\r\nmarked.setOptions({\r\n  highlight: function (code, lang) {\r\n    if (lang && hljs.getLanguage(lang)) {\r\n      return hljs.highlight(code, { language: lang }).value\r\n    }\r\n    return hljs.highlightAuto(code).value\r\n  },\r\n})\r\n\r\nexport default {\r\n  name: 'NoteBook',\r\n  data() {\r\n    return {\r\n      markdownText: '# 欢迎使用Markdown笔记本\\n\\n请在左侧输入内容，右侧实时预览。',\r\n    }\r\n  },\r\n  computed: {\r\n    renderedMarkdown() {\r\n      return marked(this.markdownText)\r\n    },\r\n  },\r\n  methods: {\r\n    exportTxt() {\r\n      const blob = new Blob([this.markdownText], { type: 'text/plain;charset=utf-8' })\r\n      const url = window.URL.createObjectURL(blob)\r\n      const a = document.createElement('a')\r\n      a.href = url\r\n      a.download = `export-${new Date().getTime()}-notebook.txt`\r\n      document.body.appendChild(a)\r\n      a.click()\r\n      document.body.removeChild(a)\r\n      window.URL.revokeObjectURL(url)\r\n    },\r\n    exportMd() {\r\n      const blob = new Blob([this.markdownText], { type: 'text/markdown;charset=utf-8' })\r\n      const url = window.URL.createObjectURL(blob)\r\n      const a = document.createElement('a')\r\n      a.href = url\r\n      a.download = `export-${new Date().getTime()}-notebook.md`\r\n      document.body.appendChild(a)\r\n      a.click()\r\n      document.body.removeChild(a)\r\n      window.URL.revokeObjectURL(url)\r\n    },\r\n    exportPdf() {\r\n      const element = this.$refs.markdownPreview\r\n      const opt = {\r\n        margin: 0.2,\r\n        filename: `export-${new Date().getTime()}-notebook.pdf`,\r\n        image: { type: 'jpeg', quality: 0.98 },\r\n        html2canvas: { scale: 2 },\r\n        jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' },\r\n      }\r\n      html2pdf().set(opt).from(element).save()\r\n    },\r\n    importTxt() {\r\n      this.$refs.fileInputTxt.value = null\r\n      this.$refs.fileInputTxt.click()\r\n    },\r\n    importMd() {\r\n      this.$refs.fileInputMd.value = null\r\n      this.$refs.fileInputMd.click()\r\n    },\r\n    handleFileChangeTxt(e) {\r\n      const file = e.target.files[0]\r\n      if (!file) return\r\n      const reader = new FileReader()\r\n      reader.onload = (event) => {\r\n        this.markdownText = event.target.result\r\n      }\r\n      reader.readAsText(file, 'utf-8')\r\n    },\r\n    handleFileChangeMd(e) {\r\n      const file = e.target.files[0]\r\n      if (!file) return\r\n      const reader = new FileReader()\r\n      reader.onload = (event) => {\r\n        this.markdownText = event.target.result\r\n      }\r\n      reader.readAsText(file, 'utf-8')\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.notebook-page {\r\n  display: flex;\r\n  height: 100%;\r\n  background: #f8faff;\r\n}\r\n\r\n.editor-panel {\r\n  width: 50%;\r\n  padding: 24px;\r\n  box-sizing: border-box;\r\n  border-right: 1px solid #e3e8ee;\r\n  background: #3b3e3d;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.preview-panel {\r\n  width: 50%;\r\n  padding: 24px;\r\n  box-sizing: border-box;\r\n  overflow-y: auto;\r\n  background: #3b3e3d;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.markdown-input {\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  ::v-deep .el-textarea__inner {\r\n    height: 100%;\r\n    // background: #3b3e3d;\r\n    // color: #fff;\r\n  }\r\n}\r\n\r\n.markdown-preview {\r\n  width: 100%;\r\n  height: 100%;\r\n  /* background: #fff; */\r\n  border-radius: 6px;\r\n  padding: 16px;\r\n  box-sizing: border-box;\r\n  overflow-x: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2c13a21c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2c13a21c&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c13a21c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","on","importTxt","_v","importMd","exportTxt","exportMd","ref","handleFileChangeTxt","handleFileChangeMd","model","value","markdownText","callback","$$v","expression","exportPdf","domProps","_s","renderedMarkdown","staticRenderFns","marked","setOptions","highlight","code","lang","hljs","language","name","data","computed","methods","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","Date","getTime","body","appendChild","click","removeChild","revokeObjectURL","element","$refs","markdownPreview","opt","margin","filename","image","quality","html2canvas","scale","jsPDF","unit","format","orientation","html2pdf","set","from","save","fileInputTxt","fileInputMd","e","file","target","files","reader","FileReader","onload","event","result","readAsText","component"],"sourceRoot":""}